# 需求文档

## 简介

统一段位系统和生活水平计算的数据参考和计算逻辑，确保两个系统使用一致的杭州薪资数据和生活成本标准，提供更准确、更有参考价值的评估结果。

## 术语表

- **段位系统（Rank System）**：根据月薪将用户分为8个等级（青铜到王者）的评级系统
- **生活水平计算（Lifestyle Calculator）**：根据月薪、人数、储蓄率等参数计算用户生活质量的系统
- **杭州薪资数据**：基于杭州2024年实际薪资水平的参考数据（平均工资11000元，中位数8500元，最低工资2490元）
- **可支配收入（Disposable Income）**：扣除储蓄后可用于日常消费的收入
- **基础开销（Base Expenses）**：房租、水电、交通等必需支出
- **消费阈值（Consumption Threshold）**：不同收入水平对应的消费能力分级标准

## 需求

### 需求 1

**用户故事：** 作为用户，我希望段位系统和生活水平计算使用统一的数据源，这样我能获得一致的评估结果

#### 验收标准

1. WHEN 用户输入月薪时，THE 段位系统 SHALL 使用与生活水平计算相同的杭州薪资数据作为参考基准
2. THE 段位系统 SHALL 定义8个薪资区间，每个区间的边界值应与生活水平计算的消费阈值保持一致
3. THE 生活水平计算 SHALL 使用与段位系统相同的薪资分级标准来确定消费能力
4. THE 系统 SHALL 在一个共享的数据配置文件中维护所有薪资阈值和生活成本参数
5. WHEN 数据源更新时，THE 系统 SHALL 确保段位系统和生活水平计算同步更新

### 需求 2

**用户故事：** 作为用户，我希望生活水平计算能准确反映我的段位等级，这样我能更好地理解我的收入水平

#### 验收标准

1. WHEN 用户的月薪对应某个段位时，THE 生活水平计算 SHALL 显示与该段位相匹配的消费能力描述
2. THE 生活水平计算 SHALL 根据段位等级调整各项消费的计算逻辑（如餐饮、服装、娱乐等）
3. THE 系统 SHALL 确保青铜段位（0-5000元）的生活水平描述反映"生存压力大"的状态
4. THE 系统 SHALL 确保王者段位（50000元以上）的生活水平描述反映"财务自由"的状态
5. THE 系统 SHALL 在中间段位（白银到宗师）提供渐进式的生活质量提升描述

### 需求 3

**用户故事：** 作为用户，我希望系统使用统一的计算逻辑，这样不同功能模块给出的建议不会相互矛盾

#### 验收标准

1. THE 系统 SHALL 使用统一的公式计算可支配收入：可支配收入 = 月薪 × (1 - 储蓄率)
2. THE 系统 SHALL 使用统一的房租计算逻辑，基于月薪确定合理的房租范围
3. THE 系统 SHALL 使用统一的交通费用计算逻辑，基于月薪确定合理的交通支出
4. THE 系统 SHALL 确保段位描述中的"生活状态"与生活水平计算的"满意度评估"相匹配
5. WHEN 用户月薪为10000元时，THE 段位系统 SHALL 显示"黄金"段位，THE 生活水平计算 SHALL 显示"温饱"或"小康"级别

### 需求 4

**用户故事：** 作为开发者，我希望有一个集中的配置文件管理所有数据参考，这样维护和更新更加方便

#### 验收标准

1. THE 系统 SHALL 创建一个名为 hangzhou-data-config.js 的配置文件
2. THE 配置文件 SHALL 包含杭州薪资参考数据（平均工资、中位数、最低工资）
3. THE 配置文件 SHALL 包含8个段位的薪资区间定义
4. THE 配置文件 SHALL 包含各项生活成本的计算阈值（房租、交通、餐饮、服装等）
5. THE 段位系统和生活水平计算 SHALL 从该配置文件导入所有数据参考
6. THE 配置文件 SHALL 包含详细的注释说明每个数据的来源和更新时间

### 需求 5

**用户故事：** 作为用户，我希望系统能根据我的段位给出更精准的生活建议，这样我能更好地规划财务

#### 验收标准

1. WHEN 用户处于青铜或白银段位时，THE 系统 SHALL 建议降低储蓄率以保证基本生活质量
2. WHEN 用户处于黄金或铂金段位时，THE 系统 SHALL 建议保持30%左右的储蓄率
3. WHEN 用户处于钻石及以上段位时，THE 系统 SHALL 建议提高储蓄率并考虑投资理财
4. THE 系统 SHALL 根据段位等级调整"升级建议"的内容
5. THE 系统 SHALL 确保生活水平计算中的各项消费建议与用户段位相匹配

### 需求 6

**用户故事：** 作为用户，我希望看到我在杭州的收入百分位排名，这样我能了解自己在整体人群中的位置

#### 验收标准

1. THE 段位系统 SHALL 为每个段位显示在杭州的百分位排名（如"杭州前30%"）
2. THE 生活水平计算 SHALL 在满意度评估中引用相同的百分位排名数据
3. THE 系统 SHALL 确保百分位排名与段位薪资区间保持一致
4. THE 系统 SHALL 在配置文件中维护百分位排名数据
5. WHEN 用户月薪超过50000元时，THE 系统 SHALL 显示"杭州前1%"的排名

### 需求 7

**用户故事：** 作为用户，我希望系统能考虑多人生活的情况，这样计算结果更符合实际

#### 验收标准

1. THE 生活水平计算 SHALL 支持输入同住人数参数
2. THE 系统 SHALL 将房租和水电费按人数平均分摊
3. THE 系统 SHALL 保持交通费、餐饮费等个人开销不受人数影响
4. THE 系统 SHALL 在计算可支配收入时考虑人数因素
5. WHEN 用户输入2人生活时，THE 系统 SHALL 显示人均房租和人均水电费

### 需求 8

**用户故事：** 作为用户，我希望能自定义储蓄率，这样能看到不同储蓄策略下的生活水平

#### 验收标准

1. THE 生活水平计算 SHALL 支持用户自定义储蓄率（0-100%）
2. THE 系统 SHALL 根据储蓄率计算可支配收入和月度/年度储蓄金额
3. THE 系统 SHALL 在储蓄率变化时实时更新所有消费能力评估
4. THE 系统 SHALL 提供默认储蓄率建议（基于段位等级）
5. WHEN 用户设置储蓄率为50%时，THE 系统 SHALL 显示可支配收入减半后的生活水平
